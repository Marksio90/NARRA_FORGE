# NARRA_FORGE Configuration
# Copy this file to .env and fill in your values

# OpenAI API Key (REQUIRED)
OPENAI_API_KEY=sk-proj-your-key-here

# Environment
ENVIRONMENT=development  # development | staging | production

# Model Configuration
DEFAULT_MINI_MODEL=gpt-4o-mini
DEFAULT_GPT4_MODEL=gpt-4o

# Cost limits (USD)
MAX_COST_PER_JOB=10.0
WARN_COST_THRESHOLD=5.0

# Quality thresholds
MIN_COHERENCE_SCORE=0.85
MIN_LANGUAGE_QUALITY=0.80
MIN_NARRATIVE_WEIGHT=0.75

# Database
DB_PATH=data/narra_forge.db

# Output
OUTPUT_DIR=output

# Logging
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR

# Observability & Monitoring
ENABLE_METRICS=true
ENABLE_LOGGING=true
ENABLE_SENTRY=false

# Sentry Error Tracking (optional)
# Sign up at https://sentry.io to get your DSN
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ========================================
# API & Backend Configuration (Phase 2)
# ========================================

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
API_RELOAD=false

# PostgreSQL Database
DATABASE_URL=postgresql+asyncpg://narra_forge:password@localhost:5432/narra_forge
DB_USER=narra_forge
DB_PASSWORD=your_password_here
DB_HOST=localhost
DB_PORT=5432
DB_NAME=narra_forge
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false

# JWT Authentication
JWT_SECRET_KEY=your-secret-key-here-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth2 - Google (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/oauth/google/callback

# OAuth2 - GitHub (optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:8000/auth/oauth/github/callback

# Redis (for Celery & caching)
REDIS_URL=redis://localhost:6379/0

# Celery Task Queue
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_TIME_LIMIT=7200

# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=100

# File Upload
MAX_UPLOAD_SIZE_MB=10

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
